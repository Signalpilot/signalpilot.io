<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>What's Your Trading Style? | Free Quiz</title>
  <meta name="description" content="Discover your ideal trading style in 2 minutes. Are you a scalper, day trader, swing trader, or position trader? Take the free quiz.">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://signalpilot.io/tools/quiz/">

  <!-- Open Graph -->
  <meta property="og:title" content="What's Your Trading Style? | Free Quiz">
  <meta property="og:description" content="Discover your ideal trading style in 2 minutes. Personalized recommendations included.">
  <meta property="og:url" content="https://signalpilot.io/tools/quiz/">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://signalpilot.io/assets/og-quiz.png">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="What's Your Trading Style? | Free Quiz">
  <meta name="twitter:description" content="Discover your ideal trading style in 2 minutes. Personalized recommendations included.">
  <meta name="twitter:image" content="https://signalpilot.io/assets/og-quiz.png">

  <link rel="icon" href="/assets/favicon.ico">

  <!-- Space Grotesk Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #05070d;
      --bg-soft: #0c111c;
      --bg-elev: #101626;
      --text: #ecf1ff;
      --muted: #b7c2d9;
      --muted-2: #8ea0bf;
      --brand: #5b8aff;
      --brand-2: #7b9bff;
      --accent: #76ddff;
      --good: #3ed598;
      --warn: #f9a23c;
      --bad: #ff6b6b;
      --border: rgba(255,255,255,.12);
      --radius: 16px;
      --grad: linear-gradient(90deg,#9cc0ff 0%,#86a8ff 35%,#7ccaff 60%,#8ca5ff 85%,#b9d4ff 100%);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Space Grotesk", system-ui, -apple-system, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      min-height: 100vh;
    }

    .container {
      max-width: 700px;
      margin: 0 auto;
      padding: 2rem 1.5rem;
    }

    /* Header */
    .header {
      text-align: center;
      margin-bottom: 2rem;
      padding-top: 1rem;
    }

    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--muted);
      text-decoration: none;
      font-size: 0.9rem;
      margin-bottom: 2rem;
      transition: color 0.2s;
    }

    .back-link:hover {
      color: var(--brand);
    }

    .header h1 {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 0.75rem;
      background: var(--grad);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .header p {
      color: var(--muted);
      font-size: 1.1rem;
    }

    /* Progress Bar */
    .progress-container {
      margin: 2rem 0;
    }

    .progress-bar {
      height: 6px;
      background: var(--bg-soft);
      border-radius: 3px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: var(--brand);
      border-radius: 3px;
      transition: width 0.3s ease;
      width: 0%;
    }

    .progress-text {
      text-align: center;
      margin-top: 0.5rem;
      font-size: 0.85rem;
      color: var(--muted);
    }

    /* Quiz Card */
    .quiz-card {
      background: var(--bg-soft);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 2rem;
      margin-bottom: 1.5rem;
    }

    .question-number {
      font-size: 0.85rem;
      color: var(--brand);
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .question-text {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 1.5rem;
      line-height: 1.4;
    }

    /* Options */
    .options {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .option {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem 1.25rem;
      background: rgba(255,255,255,0.03);
      border: 1px solid var(--border);
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .option:hover {
      border-color: var(--brand);
      background: rgba(91,138,255,0.08);
    }

    .option.selected {
      border-color: var(--brand);
      background: rgba(91,138,255,0.15);
    }

    .option-circle {
      width: 22px;
      height: 22px;
      border: 2px solid var(--muted);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      transition: all 0.2s;
    }

    .option.selected .option-circle {
      border-color: var(--brand);
      background: var(--brand);
    }

    .option.selected .option-circle::after {
      content: '';
      width: 8px;
      height: 8px;
      background: white;
      border-radius: 50%;
    }

    .option-text {
      font-size: 1rem;
      color: var(--text);
    }

    /* Navigation */
    .quiz-nav {
      display: flex;
      justify-content: space-between;
      gap: 1rem;
      margin-top: 1.5rem;
    }

    .nav-btn {
      padding: 0.85rem 1.5rem;
      border-radius: 8px;
      font-size: 0.95rem;
      font-weight: 600;
      font-family: inherit;
      cursor: pointer;
      transition: all 0.2s;
    }

    .nav-btn.prev {
      background: transparent;
      border: 1px solid var(--border);
      color: var(--muted);
    }

    .nav-btn.prev:hover {
      border-color: var(--brand);
      color: var(--text);
    }

    .nav-btn.next {
      background: var(--brand);
      border: none;
      color: white;
      margin-left: auto;
    }

    .nav-btn.next:hover {
      background: var(--brand-2);
      box-shadow: 0 4px 20px rgba(91,138,255,.3);
    }

    .nav-btn:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }

    /* Results */
    .results-container {
      display: none;
    }

    .results-container.show {
      display: block;
    }

    .result-card {
      background: var(--bg-soft);
      border: 2px solid var(--brand);
      border-radius: var(--radius);
      padding: 2.5rem 2rem;
      text-align: center;
      margin-bottom: 1.5rem;
      box-shadow: 0 0 40px rgba(91,138,255,.15);
    }

    .result-badge {
      display: inline-block;
      padding: 0.4rem 1rem;
      background: rgba(91,138,255,0.15);
      border-radius: 20px;
      font-size: 0.85rem;
      color: var(--brand);
      font-weight: 600;
      margin-bottom: 1rem;
    }

    .result-title {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      background: var(--grad);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .result-subtitle {
      color: var(--muted);
      font-size: 1.1rem;
      margin-bottom: 1.5rem;
    }

    .result-description {
      color: var(--text);
      font-size: 1rem;
      line-height: 1.7;
      margin-bottom: 1.5rem;
    }

    .result-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      margin: 1.5rem 0;
      padding: 1.25rem;
      background: rgba(0,0,0,0.2);
      border-radius: 12px;
    }

    .stat {
      text-align: center;
    }

    .stat-value {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--accent);
    }

    .stat-label {
      font-size: 0.8rem;
      color: var(--muted);
      margin-top: 0.25rem;
    }

    /* Recommendations */
    .recommendations {
      background: var(--bg-soft);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .recommendations h3 {
      font-size: 1.1rem;
      margin-bottom: 1rem;
      color: var(--text);
    }

    .rec-list {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .rec-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.85rem 1rem;
      background: rgba(255,255,255,0.03);
      border: 1px solid var(--border);
      border-radius: 10px;
      text-decoration: none;
      transition: all 0.2s;
    }

    .rec-item:hover {
      border-color: var(--brand);
      transform: translateX(4px);
    }

    .rec-icon {
      font-size: 1.25rem;
    }

    .rec-text {
      flex: 1;
    }

    .rec-text h4 {
      font-size: 0.95rem;
      color: var(--text);
      font-weight: 500;
    }

    .rec-text p {
      font-size: 0.8rem;
      color: var(--muted);
    }

    .rec-arrow {
      color: var(--muted);
    }

    /* Share & Save */
    .action-buttons {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .action-btn {
      flex: 1;
      min-width: 140px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      padding: 0.85rem 1rem;
      border-radius: 8px;
      font-size: 0.95rem;
      font-weight: 500;
      font-family: inherit;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.2s;
    }

    .action-btn.primary {
      background: var(--brand);
      border: none;
      color: white;
    }

    .action-btn.primary:hover {
      background: var(--brand-2);
    }

    .action-btn.secondary {
      background: transparent;
      border: 1px solid var(--border);
      color: var(--text);
    }

    .action-btn.secondary:hover {
      border-color: var(--brand);
    }

    .action-btn svg {
      width: 18px;
      height: 18px;
    }

    /* Email Modal */
    .modal-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.8);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }

    .modal-overlay.show {
      display: flex;
    }

    .modal {
      background: var(--bg-soft);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 2rem;
      max-width: 420px;
      width: 100%;
    }

    .modal h3 {
      font-size: 1.25rem;
      margin-bottom: 0.5rem;
    }

    .modal p {
      color: var(--muted);
      font-size: 0.95rem;
      margin-bottom: 1.5rem;
    }

    .modal input {
      width: 100%;
      padding: 0.85rem 1rem;
      background: rgba(255,255,255,0.05);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text);
      font-size: 1rem;
      font-family: inherit;
      margin-bottom: 1rem;
    }

    .modal input:focus {
      outline: none;
      border-color: var(--brand);
    }

    .modal-actions {
      display: flex;
      gap: 0.75rem;
    }

    .modal-btn {
      flex: 1;
      padding: 0.75rem;
      border-radius: 8px;
      font-size: 0.95rem;
      font-weight: 500;
      font-family: inherit;
      cursor: pointer;
      transition: all 0.2s;
    }

    .modal-btn.cancel {
      background: transparent;
      border: 1px solid var(--border);
      color: var(--muted);
    }

    .modal-btn.submit {
      background: var(--brand);
      border: none;
      color: white;
    }

    .checkbox-row {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 1rem;
      font-size: 0.85rem;
      color: var(--muted);
    }

    .checkbox-row input {
      width: auto;
      margin: 0;
    }

    /* Toast */
    .toast {
      position: fixed;
      bottom: 2rem;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background: var(--bg-soft);
      border: 1px solid var(--good);
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      font-size: 0.9rem;
      color: var(--good);
      opacity: 0;
      transition: all 0.3s;
      z-index: 1001;
    }

    .toast.show {
      transform: translateX(-50%) translateY(0);
      opacity: 1;
    }

    /* Hidden */
    .hidden {
      display: none !important;
    }

    /* Mobile */
    @media (max-width: 600px) {
      .header h1 {
        font-size: 1.75rem;
      }

      .result-stats {
        grid-template-columns: 1fr;
      }

      .action-buttons {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="header">
      <a href="/tools/" class="back-link">‚Üê Back to Tools</a>
      <h1>What's Your Trading Style?</h1>
      <p>Answer 8 quick questions to discover your ideal approach</p>
    </header>

    <!-- Progress -->
    <div class="progress-container" id="progress-container">
      <div class="progress-bar">
        <div class="progress-fill" id="progress-fill"></div>
      </div>
      <p class="progress-text"><span id="current-q">1</span> of 8</p>
    </div>

    <!-- Quiz Questions -->
    <div id="quiz-container">
      <!-- Questions will be inserted by JS -->
    </div>

    <!-- Results -->
    <div class="results-container" id="results-container">
      <div class="result-card" id="result-card">
        <!-- Result content inserted by JS -->
      </div>

      <div class="recommendations" id="recommendations">
        <h3>Recommended for You</h3>
        <div class="rec-list" id="rec-list">
          <!-- Recommendations inserted by JS -->
        </div>
      </div>

      <div class="action-buttons">
        <button class="action-btn secondary" onclick="shareResult()">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
          Share Result
        </button>
        <button class="action-btn primary" onclick="showEmailModal()">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
          Save as PDF
        </button>
        <button class="action-btn secondary" onclick="retakeQuiz()">
          Retake Quiz
        </button>
      </div>
    </div>
  </div>

  <!-- Email Modal -->
  <div class="modal-overlay" id="email-modal">
    <div class="modal">
      <h3>Save Your Results</h3>
      <p>Get a PDF summary of your trading style with personalized tips.</p>
      <input type="email" id="email-input" placeholder="your@email.com">
      <label class="checkbox-row">
        <input type="checkbox" id="subscribe-check" checked>
        Send me weekly trading insights
      </label>
      <div class="modal-actions">
        <button class="modal-btn cancel" onclick="hideEmailModal()">Cancel</button>
        <button class="modal-btn submit" onclick="submitEmail()">Send PDF</button>
      </div>
    </div>
  </div>

  <div class="toast" id="toast"></div>

  <script>
    const questions = [
      {
        q: "How much time can you dedicate to trading each day?",
        options: [
          { text: "Several hours, actively watching charts", scores: { scalper: 3, day: 2, swing: 0, position: 0 } },
          { text: "A few hours during market hours", scores: { scalper: 1, day: 3, swing: 1, position: 0 } },
          { text: "30-60 minutes in the morning/evening", scores: { scalper: 0, day: 1, swing: 3, position: 1 } },
          { text: "Just a few minutes per week", scores: { scalper: 0, day: 0, swing: 1, position: 3 } }
        ]
      },
      {
        q: "How do you feel about holding positions overnight?",
        options: [
          { text: "Absolutely not, I want to be flat", scores: { scalper: 3, day: 2, swing: 0, position: 0 } },
          { text: "Uncomfortable but willing if needed", scores: { scalper: 1, day: 2, swing: 2, position: 0 } },
          { text: "No problem, that's where the moves happen", scores: { scalper: 0, day: 0, swing: 3, position: 2 } },
          { text: "I prefer holding for weeks or months", scores: { scalper: 0, day: 0, swing: 1, position: 3 } }
        ]
      },
      {
        q: "What's your risk tolerance per trade?",
        options: [
          { text: "Very small (0.25-0.5%) with many trades", scores: { scalper: 3, day: 2, swing: 0, position: 0 } },
          { text: "Small to moderate (0.5-1%)", scores: { scalper: 1, day: 3, swing: 2, position: 0 } },
          { text: "Moderate (1-2%) with fewer trades", scores: { scalper: 0, day: 1, swing: 3, position: 2 } },
          { text: "Larger (2-3%) with high conviction only", scores: { scalper: 0, day: 0, swing: 1, position: 3 } }
        ]
      },
      {
        q: "How do you handle the stress of fast-moving markets?",
        options: [
          { text: "I thrive on it - love the adrenaline", scores: { scalper: 3, day: 2, swing: 0, position: 0 } },
          { text: "Manageable if I'm prepared", scores: { scalper: 1, day: 3, swing: 1, position: 0 } },
          { text: "Prefer to avoid it when possible", scores: { scalper: 0, day: 0, swing: 3, position: 2 } },
          { text: "Stressful - I prefer calm analysis", scores: { scalper: 0, day: 0, swing: 1, position: 3 } }
        ]
      },
      {
        q: "What type of analysis do you prefer?",
        options: [
          { text: "Price action & order flow (seconds/minutes)", scores: { scalper: 3, day: 2, swing: 0, position: 0 } },
          { text: "Technical patterns & indicators (hours)", scores: { scalper: 1, day: 3, swing: 2, position: 0 } },
          { text: "Chart patterns & market structure (days)", scores: { scalper: 0, day: 1, swing: 3, position: 1 } },
          { text: "Fundamentals & macro trends (weeks/months)", scores: { scalper: 0, day: 0, swing: 1, position: 3 } }
        ]
      },
      {
        q: "How many trades do you want to take per week?",
        options: [
          { text: "20+ trades, maybe more", scores: { scalper: 3, day: 2, swing: 0, position: 0 } },
          { text: "5-15 trades", scores: { scalper: 1, day: 3, swing: 1, position: 0 } },
          { text: "2-5 trades", scores: { scalper: 0, day: 1, swing: 3, position: 1 } },
          { text: "0-2 trades, only the best setups", scores: { scalper: 0, day: 0, swing: 1, position: 3 } }
        ]
      },
      {
        q: "What's your target profit per trade?",
        options: [
          { text: "Small & quick (5-20 pips/cents)", scores: { scalper: 3, day: 2, swing: 0, position: 0 } },
          { text: "Moderate (20-100 pips/cents)", scores: { scalper: 0, day: 3, swing: 2, position: 0 } },
          { text: "Larger moves (100-300 pips/cents)", scores: { scalper: 0, day: 0, swing: 3, position: 2 } },
          { text: "Major trends (300+ pips/cents)", scores: { scalper: 0, day: 0, swing: 1, position: 3 } }
        ]
      },
      {
        q: "What best describes your personality?",
        options: [
          { text: "Highly focused, quick decision maker", scores: { scalper: 3, day: 2, swing: 0, position: 0 } },
          { text: "Disciplined, can follow a routine", scores: { scalper: 1, day: 3, swing: 2, position: 1 } },
          { text: "Patient, willing to wait for setups", scores: { scalper: 0, day: 1, swing: 3, position: 2 } },
          { text: "Very patient, big picture thinker", scores: { scalper: 0, day: 0, swing: 1, position: 3 } }
        ]
      }
    ];

    const results = {
      scalper: {
        title: "The Scalper",
        subtitle: "Speed is your superpower",
        description: "You thrive in fast-moving markets, making quick decisions and capturing small but frequent profits. You're comfortable with high-frequency trading and can handle the intensity of watching charts for extended periods.",
        stats: { timeframe: "1-5 min", trades: "20+ / day", holdTime: "Seconds to minutes" },
        color: "#ff6b6b",
        recommendations: [
          { icon: "‚ö°", title: "Order Flow Mastery", desc: "Learn to read the tape", url: "https://education.signalpilot.io/#tier-3" },
          { icon: "üìä", title: "Volume Oracle", desc: "Our real-time volume indicator", url: "https://docs.signalpilot.io/volume-oracle-v10/" },
          { icon: "üìñ", title: "Scalping Strategies", desc: "Blog deep-dive", url: "https://blog.signalpilot.io/articles/how-smart-money-moves/" }
        ]
      },
      day: {
        title: "The Day Trader",
        subtitle: "Intraday precision is your game",
        description: "You're disciplined and structured, preferring to close all positions by end of day. You balance active trading with strategic patience, looking for quality setups within each session.",
        stats: { timeframe: "15-60 min", trades: "3-10 / day", holdTime: "Minutes to hours" },
        color: "#f9a23c",
        recommendations: [
          { icon: "üéØ", title: "Technical Analysis", desc: "Master chart patterns", url: "https://education.signalpilot.io/#tier-2" },
          { icon: "üìà", title: "Pentarch Indicator", desc: "Multi-timeframe cycles", url: "https://docs.signalpilot.io/pentarch-v10/" },
          { icon: "üìñ", title: "Day Trading Systems", desc: "Build your edge", url: "https://blog.signalpilot.io/articles/building-your-first-system/" }
        ]
      },
      swing: {
        title: "The Swing Trader",
        subtitle: "Capturing the waves",
        description: "You're patient and methodical, preferring to catch multi-day moves rather than intraday noise. You're comfortable holding overnight and focus on market structure over minor fluctuations.",
        stats: { timeframe: "4H-Daily", trades: "2-5 / week", holdTime: "Days to weeks" },
        color: "#3ed598",
        recommendations: [
          { icon: "üåä", title: "Market Structure", desc: "Read the bigger picture", url: "https://education.signalpilot.io/#tier-2" },
          { icon: "üó∫Ô∏è", title: "Janus Atlas", desc: "Key levels & pivots", url: "https://docs.signalpilot.io/janus-atlas-v10/" },
          { icon: "üìñ", title: "Swing Trading Guide", desc: "Accumulation vs distribution", url: "https://blog.signalpilot.io/articles/accumulation-vs-distribution/" }
        ]
      },
      position: {
        title: "The Position Trader",
        subtitle: "Playing the long game",
        description: "You're a big-picture thinker who values fundamental analysis and major trends over short-term noise. You're extremely patient, willing to hold for weeks or months for substantial moves.",
        stats: { timeframe: "Daily-Weekly", trades: "1-4 / month", holdTime: "Weeks to months" },
        color: "#5b8aff",
        recommendations: [
          { icon: "üèõÔ∏è", title: "Macro Analysis", desc: "Understand market cycles", url: "https://education.signalpilot.io/#tier-4" },
          { icon: "üìä", title: "The Elite Seven", desc: "Professional indicator suite", url: "https://docs.signalpilot.io/suite-index/" },
          { icon: "üìñ", title: "Trend Following", desc: "Ride the big moves", url: "https://blog.signalpilot.io/articles/the-1-percent-rule/" }
        ]
      }
    };

    let currentQuestion = 0;
    let answers = [];
    let scores = { scalper: 0, day: 0, swing: 0, position: 0 };
    let resultType = null;

    function renderQuestion() {
      const q = questions[currentQuestion];
      const container = document.getElementById('quiz-container');

      container.innerHTML = `
        <div class="quiz-card">
          <p class="question-number">Question ${currentQuestion + 1}</p>
          <h2 class="question-text">${q.q}</h2>
          <div class="options">
            ${q.options.map((opt, i) => `
              <div class="option ${answers[currentQuestion] === i ? 'selected' : ''}" onclick="selectOption(${i})">
                <div class="option-circle"></div>
                <span class="option-text">${opt.text}</span>
              </div>
            `).join('')}
          </div>
        </div>
        <div class="quiz-nav">
          <button class="nav-btn prev ${currentQuestion === 0 ? 'hidden' : ''}" onclick="prevQuestion()">‚Üê Previous</button>
          <button class="nav-btn next" onclick="nextQuestion()" ${answers[currentQuestion] === undefined ? 'disabled' : ''}>
            ${currentQuestion === questions.length - 1 ? 'See Results' : 'Next ‚Üí'}
          </button>
        </div>
      `;

      // Update progress
      document.getElementById('progress-fill').style.width = ((currentQuestion + 1) / questions.length * 100) + '%';
      document.getElementById('current-q').textContent = currentQuestion + 1;
    }

    function selectOption(index) {
      answers[currentQuestion] = index;
      renderQuestion();
    }

    function prevQuestion() {
      if (currentQuestion > 0) {
        currentQuestion--;
        renderQuestion();
      }
    }

    function nextQuestion() {
      if (answers[currentQuestion] === undefined) return;

      // Add scores
      const q = questions[currentQuestion];
      const selected = q.options[answers[currentQuestion]];
      Object.keys(selected.scores).forEach(key => {
        scores[key] += selected.scores[key];
      });

      if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        renderQuestion();
      } else {
        showResults();
      }
    }

    function showResults() {
      // Find highest score
      resultType = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
      const result = results[resultType];

      document.getElementById('progress-container').classList.add('hidden');
      document.getElementById('quiz-container').classList.add('hidden');
      document.getElementById('results-container').classList.add('show');

      document.getElementById('result-card').innerHTML = `
        <span class="result-badge">Your Trading Style</span>
        <h2 class="result-title">${result.title}</h2>
        <p class="result-subtitle">${result.subtitle}</p>
        <p class="result-description">${result.description}</p>
        <div class="result-stats">
          <div class="stat">
            <div class="stat-value">${result.stats.timeframe}</div>
            <div class="stat-label">Timeframe</div>
          </div>
          <div class="stat">
            <div class="stat-value">${result.stats.trades}</div>
            <div class="stat-label">Trade Frequency</div>
          </div>
          <div class="stat">
            <div class="stat-value">${result.stats.holdTime}</div>
            <div class="stat-label">Hold Duration</div>
          </div>
        </div>
      `;

      document.getElementById('rec-list').innerHTML = result.recommendations.map(rec => `
        <a href="${rec.url}" target="_blank" rel="noopener" class="rec-item">
          <span class="rec-icon">${rec.icon}</span>
          <div class="rec-text">
            <h4>${rec.title}</h4>
            <p>${rec.desc}</p>
          </div>
          <span class="rec-arrow">‚Üí</span>
        </a>
      `).join('');
    }

    function shareResult() {
      const result = results[resultType];
      const text = `I'm ${result.title}! ${result.subtitle}. Discover your trading style:`;
      const url = 'https://signalpilot.io/tools/quiz/';
      window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`, '_blank');
    }

    function showEmailModal() {
      document.getElementById('email-modal').classList.add('show');
    }

    function hideEmailModal() {
      document.getElementById('email-modal').classList.remove('show');
    }

    function submitEmail() {
      const email = document.getElementById('email-input').value;
      if (!email || !email.includes('@')) {
        showToast('Please enter a valid email');
        return;
      }

      // In production, this would send to your email service
      console.log('Email submitted:', email);
      console.log('Subscribe:', document.getElementById('subscribe-check').checked);

      hideEmailModal();
      showToast('PDF sent! Check your inbox.');
    }

    function retakeQuiz() {
      currentQuestion = 0;
      answers = [];
      scores = { scalper: 0, day: 0, swing: 0, position: 0 };
      resultType = null;

      document.getElementById('progress-container').classList.remove('hidden');
      document.getElementById('quiz-container').classList.remove('hidden');
      document.getElementById('results-container').classList.remove('show');

      renderQuestion();
    }

    function showToast(msg) {
      const t = document.getElementById('toast');
      t.textContent = msg;
      t.classList.add('show');
      setTimeout(() => t.classList.remove('show'), 2500);
    }

    // Close modal on overlay click
    document.getElementById('email-modal').addEventListener('click', (e) => {
      if (e.target === document.getElementById('email-modal')) {
        hideEmailModal();
      }
    });

    // Initialize
    renderQuestion();
  </script>
</body>
</html>
